{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = {\n  class: \"login_register_container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"text-2xl text-center mb-3\"\n}, \"Yeni Ekle\", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"option\", {\n  disabled: \"\",\n  value: \"\",\n  selected: \"\"\n}, \"Kategori\", -1 /* HOISTED */);\nconst _hoisted_4 = [\"value\"];\nconst _hoisted_5 = {\n  class: \"flex items-center justify-end gap-x-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.userData.title = $event),\n    type: \"text\",\n    placeholder: \"Başlık\",\n    class: \"input mb-3\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.userData.title]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.userData.url = $event),\n    type: \"text\",\n    placeholder: \"URL\",\n    class: \"input mb-3\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.userData.url]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.userData.categoryId = $event),\n    class: \"input mb-3\"\n  }, [_hoisted_3, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categoryList, category => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: category.id,\n      value: category.id\n    }, _toDisplayString(category.name), 9 /* TEXT, PROPS */, _hoisted_4);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.userData.categoryId]]), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.userData.description = $event),\n    placeholder: \"Açıklama\",\n    class: \"input mb-3\",\n    cols: \"30\",\n    rows: \"10\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.userData.description]]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = $event => _ctx.$router.push({\n      name: 'HomePage'\n    })),\n    class: \"secondary-button\"\n  }, \"İptal\"), _createElementVNode(\"button\", {\n    onClick: $setup.onSave,\n    class: \"default-button\"\n  }, \"Kaydet\")])]);\n}","map":{"version":3,"names":["class","_createElementVNode","disabled","value","selected","_createElementBlock","_hoisted_1","_hoisted_2","$setup","userData","title","$event","type","placeholder","url","categoryId","_hoisted_3","_Fragment","_renderList","categoryList","category","key","id","name","_hoisted_4","description","cols","rows","_hoisted_5","onClick","_cache","_ctx","$router","push","onSave"],"sources":["C:\\Users\\Emirhan Sevim\\Desktop\\vue-proje\\booklike-composition\\client\\src\\views\\NewBookmark.vue"],"sourcesContent":["<template>\r\n       <div class=\"login_register_container\">\r\n      <h3 class=\"text-2xl text-center mb-3\">Yeni Ekle</h3>\r\n      <input v-model=\"userData.title\" type=\"text\" placeholder=\"Başlık\" class=\"input mb-3\" />\r\n      <input v-model=\"userData.url\" type=\"text\" placeholder=\"URL\" class=\"input mb-3\" />\r\n      <select v-model=\"userData.categoryId\" class=\"input mb-3\">\r\n        <option disabled value=\"\" selected>Kategori</option>\r\n        <option v-for=\"category in categoryList\" :key=\"category.id\" :value=\"category.id\">{{category.name}}</option>\r\n      </select>\r\n      <textarea v-model=\"userData.description\" placeholder=\"Açıklama\" class=\"input mb-3\" cols=\"30\" rows=\"10\"></textarea>\r\n      <div class=\"flex items-center justify-end gap-x-1\">\r\n        <button @click=\"$router.push({name:'HomePage'})\" class=\"secondary-button\">İptal</button>\r\n        <button @click=\"onSave\" class=\"default-button\">Kaydet</button>\r\n      </div>\r\n    </div>\r\n \r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { ref,inject,computed ,onMounted} from 'vue';\r\nimport {useStore} from \"vuex\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\nconst appAxios=inject(\"appAxios\");\r\nconst socket=inject(\"socket\");\r\n\r\nconst store=useStore();\r\nconst router=useRouter();\r\n\r\nconst categoryList=ref([])\r\nconst userData=ref([])\r\n\r\nonMounted(()=>{\r\n  appAxios.get(\"/categories\").then(category_response => {\r\n      //console.log('category_response', category_response)\r\n      categoryList.value = category_response?.data||[];\r\n    })\r\n})\r\nconst onSave=()=>{\r\n      const saveData={\r\n        ...userData.value,\r\n        userId:_getCurrentUser?.value.id,\r\n        created_at:new Date()\r\n      }\r\n      appAxios.post(\"/bookmarks\",saveData).then(save_bookmark_response=>{\r\n        console.log(save_bookmark_response);\r\n        Object.keys(userData.value)?.forEach(field=>(userData.value[field]=null));\r\n       \r\n        const socketData={\r\n        ...save_bookmark_response.data,\r\n        user:_getCurrentUser.value,\r\n        category:categoryList.value?.find(c=>c.id ==saveData.categoryId)\r\n       }\r\n        socket.emit(\"NEW_BOOKMARK_EVENT\",socketData); \r\n         router.push({name:'HomePage'});\r\n      }) //userdata objesi gidicek \r\n    }\r\n    const _getCurrentUser = computed(()=>store.getters._getCurrentUser);\r\n\r\n</script>\r\n"],"mappings":";;;EACYA,KAAK,EAAC;AAA0B;gCACtCC,mBAAA,CAAoD;EAAhDD,KAAK,EAAC;AAA2B,GAAC,WAAS;gCAI7CC,mBAAA,CAAoD;EAA5CC,QAAQ,EAAR,EAAQ;EAACC,KAAK,EAAC,EAAE;EAACC,QAAQ,EAAR;GAAS,UAAQ;;;EAIxCJ,KAAK,EAAC;AAAuC;;uBATjDK,mBAAA,CAaG,OAbHC,UAaG,GAZJC,UAAoD,E,gBACpDN,mBAAA,CAAsF;+DAAtEO,MAAA,CAAAC,QAAQ,CAACC,KAAK,GAAAC,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,QAAQ;IAACb,KAAK,EAAC;iDAAvDQ,MAAA,CAAAC,QAAQ,CAACC,KAAK,E,mBAC9BT,mBAAA,CAAiF;+DAAjEO,MAAA,CAAAC,QAAQ,CAACK,GAAG,GAAAH,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,KAAK;IAACb,KAAK,EAAC;iDAAlDQ,MAAA,CAAAC,QAAQ,CAACK,GAAG,E,mBAC5Bb,mBAAA,CAGS;+DAHQO,MAAA,CAAAC,QAAQ,CAACM,UAAU,GAAAJ,MAAA;IAAEX,KAAK,EAAC;MAC1CgB,UAAoD,G,kBACpDX,mBAAA,CAA2GY,SAAA,QAAAC,WAAA,CAAhFV,MAAA,CAAAW,YAAY,EAAxBC,QAAQ;yBAAvBf,mBAAA,CAA2G;MAAjEgB,GAAG,EAAED,QAAQ,CAACE,EAAE;MAAGnB,KAAK,EAAEiB,QAAQ,CAACE;wBAAMF,QAAQ,CAACG,IAAI,wBAAAC,UAAA;2EAFjFhB,MAAA,CAAAC,QAAQ,CAACM,UAAU,E,mBAIpCd,mBAAA,CAAkH;+DAA/FO,MAAA,CAAAC,QAAQ,CAACgB,WAAW,GAAAd,MAAA;IAAEE,WAAW,EAAC,UAAU;IAACb,KAAK,EAAC,YAAY;IAAC0B,IAAI,EAAC,IAAI;IAACC,IAAI,EAAC;iDAA/EnB,MAAA,CAAAC,QAAQ,CAACgB,WAAW,E,GACvCxB,mBAAA,CAGM,OAHN2B,UAGM,GAFJ3B,mBAAA,CAAwF;IAA/E4B,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAnB,MAAA,IAAEoB,IAAA,CAAAC,OAAO,CAACC,IAAI;MAAAV,IAAA;IAAA;IAAqBvB,KAAK,EAAC;KAAmB,OAAK,GAC/EC,mBAAA,CAA8D;IAArD4B,OAAK,EAAErB,MAAA,CAAA0B,MAAM;IAAElC,KAAK,EAAC;KAAiB,QAAM,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}