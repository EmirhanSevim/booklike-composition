{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Sidebar from \"@/components/Home/SideBar\";\nimport { ref, onMounted, inject } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  __name: 'Home',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const appAxios = inject(\"appAxios\");\n    const socket = inject(\"socket\");\n    const bookmarkList = ref([]);\n    const store = useStore();\n    onMounted(() => {\n      socket.on(\"NEW_BOOKMARK_ADDED\", bookmark => {\n        bookmarkList.value.push(bookmark);\n      });\n    });\n    const fetchData = () => {\n      appAxios.get(\"/bookmarks?_expand=category&_expand=user\").then(bookmark_list_response => {\n        bookmarkList.value = bookmark_list_response?.data || [];\n      });\n      //! Bookmark olarak eklediklerimizi çekmek için user_bookmarks üzerinden çekelim..\n      appAxios.get(\"/user_bookmarks/?_expand=bookmark&_expand=user\").then(user_bookmark_response => {\n        store.commit(\"setBookmarks\", user_bookmark_response?.data);\n      });\n\n      //! Like olarak eklediklerimizi çekmek için user_likes üzerinden çekelim..\n      appAxios.get(\"/user_likes/?_expand=bookmark&_expand=user\").then(user_likes_response => {\n        store.commit(\"setLikes\", user_likes_response?.data);\n      });\n    };\n    const updateBookmarkList = categoryId => {\n      const url = categoryId ? `/bookmarks?_expand=category&_expand=user&categoryId=${categoryId}` : `/bookmarks?_expand=category&_expand=user`;\n      appAxios.get(url).then(bookmark_list_response => {\n        bookmarkList.value = bookmark_list_response?.data || [];\n      });\n    };\n    fetchData();\n    const __returned__ = {\n      appAxios,\n      socket,\n      bookmarkList,\n      store,\n      fetchData,\n      updateBookmarkList,\n      get Sidebar() {\n        return Sidebar;\n      },\n      ref,\n      onMounted,\n      inject,\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["Sidebar","ref","onMounted","inject","useStore","appAxios","socket","bookmarkList","store","on","bookmark","value","push","fetchData","get","then","bookmark_list_response","data","user_bookmark_response","commit","user_likes_response","updateBookmarkList","categoryId","url"],"sources":["C:/Users/Emirhan Sevim/Desktop/vue-proje/booklike-composition/client/src/views/Home.vue"],"sourcesContent":["<template>\r\n  <AppHeader />\r\n  <div class=\"flex flex-row\">\r\n    <Sidebar @category-changed=\"updateBookmarkList\" />\r\n    <app-bookmark-list v-if=\"bookmarkList.length > 0\" :items=\"bookmarkList\" />\r\n    <div v-else>Bookmark bulunmamaktadır..</div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport Sidebar from \"@/components/Home/SideBar\";\r\nimport { ref, onMounted, inject } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nconst appAxios = inject(\"appAxios\");\r\nconst socket = inject(\"socket\");\r\nconst bookmarkList = ref([]);\r\nconst store = useStore();\r\n\r\nonMounted(() => {\r\n  socket.on(\"NEW_BOOKMARK_ADDED\", bookmark => {\r\n    bookmarkList.value.push(bookmark);\r\n  });\r\n});\r\n\r\nconst fetchData = () => {\r\n  appAxios.get(\"/bookmarks?_expand=category&_expand=user\").then(bookmark_list_response => {\r\n    bookmarkList.value = bookmark_list_response?.data || [];\r\n  });\r\n  //! Bookmark olarak eklediklerimizi çekmek için user_bookmarks üzerinden çekelim..\r\n  appAxios.get(\"/user_bookmarks/?_expand=bookmark&_expand=user\").then(user_bookmark_response => {\r\n    store.commit(\"setBookmarks\", user_bookmark_response?.data);\r\n  });\r\n\r\n  //! Like olarak eklediklerimizi çekmek için user_likes üzerinden çekelim..\r\n  appAxios.get(\"/user_likes/?_expand=bookmark&_expand=user\").then(user_likes_response => {\r\n    store.commit(\"setLikes\", user_likes_response?.data);\r\n  });\r\n};\r\nconst updateBookmarkList = categoryId => {\r\n  const url = categoryId ? `/bookmarks?_expand=category&_expand=user&categoryId=${categoryId}` : `/bookmarks?_expand=category&_expand=user`;\r\n  appAxios.get(url).then(bookmark_list_response => {\r\n    bookmarkList.value = bookmark_list_response?.data || [];\r\n  });\r\n};\r\n\r\nfetchData();\r\n</script>"],"mappings":";AASA,OAAOA,OAAO,MAAM,2BAA2B;AAC/C,SAASC,GAAG,EAAEC,SAAS,EAAEC,MAAM,QAAQ,KAAK;AAC5C,SAASC,QAAQ,QAAQ,MAAM;;;;;;;IAC/B,MAAMC,QAAQ,GAAGF,MAAM,CAAC,UAAU,CAAC;IACnC,MAAMG,MAAM,GAAGH,MAAM,CAAC,QAAQ,CAAC;IAC/B,MAAMI,YAAY,GAAGN,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAMO,KAAK,GAAGJ,QAAQ,CAAC,CAAC;IAExBF,SAAS,CAAC,MAAM;MACdI,MAAM,CAACG,EAAE,CAAC,oBAAoB,EAAEC,QAAQ,IAAI;QAC1CH,YAAY,CAACI,KAAK,CAACC,IAAI,CAACF,QAAQ,CAAC;MACnC,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,MAAMG,SAAS,GAAGA,CAAA,KAAM;MACtBR,QAAQ,CAACS,GAAG,CAAC,0CAA0C,CAAC,CAACC,IAAI,CAACC,sBAAsB,IAAI;QACtFT,YAAY,CAACI,KAAK,GAAGK,sBAAsB,EAAEC,IAAI,IAAI,EAAE;MACzD,CAAC,CAAC;MACF;MACAZ,QAAQ,CAACS,GAAG,CAAC,gDAAgD,CAAC,CAACC,IAAI,CAACG,sBAAsB,IAAI;QAC5FV,KAAK,CAACW,MAAM,CAAC,cAAc,EAAED,sBAAsB,EAAED,IAAI,CAAC;MAC5D,CAAC,CAAC;;MAEF;MACAZ,QAAQ,CAACS,GAAG,CAAC,4CAA4C,CAAC,CAACC,IAAI,CAACK,mBAAmB,IAAI;QACrFZ,KAAK,CAACW,MAAM,CAAC,UAAU,EAAEC,mBAAmB,EAAEH,IAAI,CAAC;MACrD,CAAC,CAAC;IACJ,CAAC;IACD,MAAMI,kBAAkB,GAAGC,UAAU,IAAI;MACvC,MAAMC,GAAG,GAAGD,UAAU,GAAI,uDAAsDA,UAAW,EAAC,GAAI,0CAAyC;MACzIjB,QAAQ,CAACS,GAAG,CAACS,GAAG,CAAC,CAACR,IAAI,CAACC,sBAAsB,IAAI;QAC/CT,YAAY,CAACI,KAAK,GAAGK,sBAAsB,EAAEC,IAAI,IAAI,EAAE;MACzD,CAAC,CAAC;IACJ,CAAC;IAEDJ,SAAS,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}